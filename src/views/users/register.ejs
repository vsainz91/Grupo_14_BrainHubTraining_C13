<!DOCTYPE html>
<html lang="en">
<%- include ('../partials/head') %>
<script src="/js/userRegister.js"></script>
    <body class="login_body">
        <%- include ('../partials/header') %>
            <section class="container-login">
                <p class="text-end-to-login">¿Ya estás registrado? <a href="/users/login" id="register-a-login">¡Logueate!</a></p>
                <h2 class="register-title">REGISTRATE</h2>
                <form class="container-form" action="/users/register" method="post" enctype="multipart/form-data" id="form">
                    <div class="input-container">
                        <input class="input-log" type="nombre" class="input-style" name="name" id="name" value="<%= locals.old && old.name %>"
                            placeholder="Ingrese su nombre y apellido" minlength="2">
                            <span class="error red-span" id="nameErrors" style="color: red;"></span>
                            <% if (locals.errors && errors.name){
                                %><small class="text-danger" style="color: red;"><%= errors.name.msg %></small>
                                <% } %>
                        <input class="input-log" type="email" class="input-style" id="email" name="email" value="<%= locals.old && old.email %>"
                            placeholder="Ingrese su email">
                            <span id="emailErrors" class="red-span" style="color: red;"></span>
                            <% if (locals.errors && errors.email){
                                %><small class="text-danger" style="color: red;"><%= errors.email.msg %></small>
                                <% } %>
                        <input class="input-log" type="password" id="pass" name="pass" placeholder="Crea tu contraseña">
                        <span id="passErrors" style="color: red;" class="pass-red-span red-span"></span>
                        <% if (locals.errors && errors.pass){
                            %><small class="text-danger" style="color: red;"><%= errors.pass.msg %></small>
                            <% } %>
                        <label for="password2"> </label>
                        <input class="input-log" type="password" name="password2" required id="password2"
                            placeholder="Confirma tu contraseña">
                            <span id="pass2Errors" style="color: red;" class="red-span"></span>
                            <% if (locals.errors && errors.password2){
                                %><small class="text-danger" style="color: red;"><%= errors.password2.msg %></small>
                            <% } %>
                    </div>
                    <div class="upload-avatar">
                        <label for="avatar" class="register-avatar-label">AVATAR</label>
                        <input type="file" name="avatar" id="avatar">
                        <div class="img-container" id="img-preview" onChange="fileValidation"> </div>
                        <span id="fileErrors" style="color: red;" class="red-span"></span>
                    </div>
                    <div>
                        <span id="submitErrors" style="color: red;" class="red-span"></span>
                        <button class="btn-register btn" type="submit">REGISTRATE</button>
                        <button class="limpiar-btn-register" type="reset">LIMPIAR</button>
                    </div>
                </form>
            </section>
            <%- include ('../partials/footer') %>
    </body>

</html>